{"data":{"markdownRemark":{"frontmatter":{"title":"Google Tag Manager, Google Analytics and Gatsby","subtitle":"Part 2","date":"March 20, 2019","description":"Part 2 in a series of blog posts on how to integrate Google Tag Manager and Google Analytics with GatsbyJS","keywords":["Google Tag Manager","Gatsby","GatsbyJS","React","GTM","Google Analytics","GA"]},"html":"<p>In this guide, we will start tracking page views for our website using <b>Google Tag Manager</b> (GTM), <b>Google Analytics</b> (GA) and <b>GatsbyJS</b>.</p>\n<p>This is part 2 in a series on GTM, GA and Gatsby. If you need a general overview of GTM and instructions on how to get started, see <a href=\"/blog/google-tag-manager\">Google Tag Manager and Gatsby (Part 1)</a>.</p>\n<h2>Sign up for GA</h2>\n<p>If you haven't signed up for GA yet, go to <a href=\"https://analytics.google.com/analytics/web/\">analytics.google.com</a> to get started.</p>\n<h2>Connect GTM to GA</h2>\n<h3>Get GA Tracking ID</h3>\n<p>Next, to connect GTM to GA, we will need your GA tracking ID. </p>\n<p>From the GA dashboard, click <i>Admin</i>, and then click <i>Properties</i>. Copy the <i>Tracking Id</i> for the next step.</p>\n<img alt=\"GIF showing how to get Google Analytics Tracking ID\" style=\"-webkit-user-select: none;\" src=\"https://media.giphy.com/media/452X5Ai7pnqtdlcxQT/giphy.gif\" class=\"gif\">\n<h3>Create GA Variable in GTM</h3>\n<p>We are going to connect GA to your site in order to keep track of page views. Let's add a GA variable so that we can reference the GA tracking ID without having to look it up every time we want to use it. </p>\n<ul>\n<li>From the GTM <i>Workspaces</i>, page, click <i>Variables</i> on the left </li>\n<li>Under <i>User defined variables</i>, click <i>New</i>.</li>\n<li>Click in the box to configure the variable</li>\n<li>Select <i>Google Analytics Settings</i></li>\n<li>Paste your <i>Tracking ID</i></li>\n<li>Name your variable (e.g. <i>Google Analytics Settings</i>)</li>\n<li>Save</li>\n</ul>\n<img alt=\"GIF showing how to create a Google Analytics variable in Google Tag Manager\" style=\"-webkit-user-select: none;\" src=\"https://media.giphy.com/media/nxOlfLBfK4oHPbjRJr/giphy.gif\" class=\"gif\">\n<p>Now we can reference <i>Google Analytics Settings</i> whenever we need to get the <i>GA Tracking ID</i>. Variables are super handy!</p>\n<h3>Create a Page View Trigger in GTM</h3>\n<p>Let's create a <i>Page View</i> trigger so that we can track page views for our site. </p>\n<blockquote>\n<p>NOTE: Triggers are conditions that fire triggers when the conditions are met.</p>\n</blockquote>\n<ul>\n<li>From the GTM <i>Workspaces</i> page, click <i>Triggers</i> on the left</li>\n<li>Click <i>New</i></li>\n<li>Click on then pencil icon to edit the trigger</li>\n<li>Select the default <i>Page View</i></li>\n<li>Click <i>Save</i></li>\n<li>Name your trigger (e.g. <i>Page View</i>)</li>\n<li>Click <i>Save</i></li>\n</ul>\n<img alt=\"GIF showing how to create a Page View trigger in Google Tag Manager\" style=\"-webkit-user-select: none;\" src=\"https://media.giphy.com/media/7zYBpySbTzB61PygW7/giphy.gif\" class=\"gif\">\n<h3>Create a Page View Tag in GTM</h3>\n<p>Let's create a <i>Page View</i> tag so that we can track page views for our site. </p>\n<blockquote>\n<p>NOTE: Tags are scripts that we can fire based on certain conditions (triggers)</p>\n</blockquote>\n<ul>\n<li>In GTM, click on <i>Tags</i></li>\n<li>Click <i>New</i></li>\n<li>Click on the pencil icon to edit the tag</li>\n<li>Click <i>Google Analytics - Universal Analytics</i></li>\n<li>Select the <i>{{ Google Analytics Settings}}</i> variable (or whatever you named it)</li>\n<li>Make sure the <i>Track Type</i> is <i>Page View</i></li>\n<li>Click on <i>Triggering</i></li>\n<li>Select <i>Page View</i></li>\n<li>Click <i>Save</i> </li>\n<li>Name your tag (e.g. <i>Google Analytics - Page View</i>) and save</li>\n</ul>\n<img alt=\"GIF showing how to create a tag with a trigger in Google Tag Manager\" style=\"-webkit-user-select: none;\" src=\"https://media.giphy.com/media/n41BBb7UvPSDCyXjQg/giphy.gif\" class=\"gif\">\n<h2>Publish your changes</h2>\n<p>Google Tag Manager has a versioning system, so in order for your changes to go live you must publish them. </p>\n<ul>\n<li>From the GTM <i>Workspaces</i> page, click <i>Submit</i></li>\n<li>Give your version a descriptive name, and save</li>\n</ul>\n<img alt=\"GIF showing how to publish Google Tag Manager changes\" style=\"-webkit-user-select: none;\" src=\"https://media.giphy.com/media/ewrKe2ui0fuBkp9rFj/giphy.gif\" class=\"gif\">\n<h2>Summary</h2>\n<p>You've successfully connected GTM and GA to your site, and now you're tracking page views with GA. Head over to GA to see the data coming in!</p>\n<p>In the next tutorial, I will show you how to manage tags with GTM (add explain why it's great for managing lots of 3rd party tags).</p>\n<h2>Resources</h2>\n<p><a href=\"https://analytics.google.com/analytics/academy/course/5\">Google Tag Manager Fundamentals Course</a></p>\n<p><a href=\"https://support.google.com/tagmanager#topic=3441530\">Google Tag Manager Help</a></p>\n<p><a href=\"https://support.google.com/tagmanager/answer/6103696?hl=en\">Setup and install Tag Manager</a></p>\n<p><a href=\"https://www.analyticsmania.com/post/google-tag-manager-glossary/\">The Ultimate Google Tag Manager Glossary (160+ terms)</a></p>","fields":{"slug":"blog/google-tag-manager-2/"}},"site":{"siteMetadata":{"author":"Alex Fenwood Hughes"}}},"pageContext":{"slug":"blog/google-tag-manager-2/"}}